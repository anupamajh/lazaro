<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Group-View</title>
    <link th:href="@{https://fonts.googleapis.com/css?family=Roboto&display=swap}" rel="stylesheet">
    <link th:href="@{/css/community.css}" rel="stylesheet">
</head>
<script>
    function createGroup(){
        document.getElementById("groups-list").style.display = "block";
        document.getElementById("no-groups").style.display = "none";
        document.getElementById("create-group-btn").style.display = "none";
    }
    function viewDropdown(img){
        if(document.getElementById("drop-down-my-groups").style.display === "none"){
        document.getElementById("drop-down-my-groups").style.display = "block";
        img.src = "http://localhost:8000/images/extra-large-256px/Artboard 1 copy 53@16x.png";
        document.getElementById("drop-down-btn-my-groups").style.borderRadius = "0%";
        }else{
            document.getElementById("drop-down-my-groups").style.display = "none";
            img.src = "http://localhost:8000/images/extra-large-256px/Artboard%201%20copy%2047@16x.png";
            document.getElementById("drop-down-btn-my-groups").style.borderRadius = "50%";
        }
    }
    function viewDropdown1(){
        if(document.getElementById("drop-down-menu").style.display === "none"){
            document.getElementById("drop-down-menu").style.display = "block";
        }else{
            document.getElementById("drop-down-menu").style.display = "none";
        }
    }
    function groupCreated(){
        document.getElementById("groups-list").style.display = "none";
        document.getElementById("no-groups").style.display = "block";
        document.getElementById("invite-part").style.display = "block";
        document.getElementById("create-group-btn").style.display = "none";
        document.getElementById("upload-success").style.display = "none";
    }
    function invitePeople1(position){
        var list = document.getElementsByClassName("invite-btn");
        var sentlist = document.getElementsByClassName("msg-sent");
        list = [].slice.call(list);
        var n = list.indexOf(position);
        list[n].style.display = "none";
        sentlist[n].style.display = "block";
        var x = document.getElementById("snackbar-invite");
        x.className = "show";
        setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
    }
    function invitePeople(){
            location.assign("/my-groups/invite-people");
       }
    function createGroupDone(){
<!--            document.getElementById("upload-failed").style.display = "none";-->
<!--            document.getElementById("photo-upload").style.display = "none";-->
<!--            document.getElementById("origin-frame").style.display = "none";-->
                document.getElementById("upload-success").style.display = "block";
        }

        function exitGroup(){
                document.getElementById("delete").style.display = "block";
        }

     function closeFrame(){
<!--            document.getElementById("photo-upload").style.display = "none";-->
<!--            document.getElementById("origin-frame").style.display = "none";-->
<!--            document.getElementById("upload-failed").style.display = "none";-->
                document.getElementById("upload-success").style.display = "none";
                document.getElementById("delete").style.display = "none";
        }

       function filterFav(){
            var all = document.getElementsByClassName("group-members");
            var fav = document.getElementsByClassName("favourites");
            document.getElementById("filter-clear-link").style.display = "inline-block";
            document.getElementById("drop-down-menu").style.display = "none";
            document.getElementById("count-msg").style.display = "none";
            var i, j;
            for(i=0; i<all.length; i++){
                all[i].style.display = "none";
            }
            for(j=0; j<fav.length; j++){
                fav[j].style.display = "flex";
            }
       }
       function clearFilter(){
            var all = document.getElementsByClassName("group-members");
            document.getElementById("drop-down-menu").style.display = "none";
            document.getElementById("filter-clear-link").style.display = "none";
            var i, j;
            for(i=0; i<all.length; i++){
                all[i].style.display = "flex";
            }
       }
        function viewJoined(){
                console.log("entered");
            if(document.getElementById("joined-members").style.display === "none"){
                 document.getElementById("joined-members").style.display = "block";
                 document.getElementById("view-joined-btn").src="/images/extra-large-256px/Artboard 1 copy 2@16x.png";
            }else{
                document.getElementById("joined-members").style.display = "none";
                document.getElementById("view-joined-btn").src="/images/extra-large-256px/Artboard 1 copy@16x.png";
            }
        }
        function viewRequestList(){
            location.assign("/my-groups/my-group-requests");
       }
         function viewPending(){
                console.log("entered");
            if(document.getElementById("pending-members").style.display === "none"){
                 document.getElementById("pending-members").style.display = "block";
                 document.getElementById("view-pending-btn").src="/images/extra-large-256px/Artboard 1 copy 2@16x.png";
            }else{
                document.getElementById("pending-members").style.display = "none";
                document.getElementById("view-pending-btn").src="/images/extra-large-256px/Artboard 1 copy@16x.png";
            }
        }

        function openConversation(){
            location.replace("/my-groups/my-group-conversation");
        }

         function joinConversation(){
            location.replace("/community/community-groups/community-group-conversation");
        }
         function backToGroupView(){
            location.replace("/my-groups/my-groups-list");
        }
        function viewConversation(){
            var x = document.getElementById("snackbar-group");
            x.className = "show";
            setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
        }
        function requestAwaiting(){
            location.replace("/community/community-groups/community-awaiting-group");
        }
        function openGroup(){
            location.replace("/community/community-groups/community-open-group");
        }
        function searchPeople(){
            var str = document.getElementById("search-people").value.toUpperCase().trim();
            var person_name = document.getElementsByClassName("uname");
            var people = document.getElementsByClassName("group-members");
            var i;
            var count = 0;
            var people_list = person_name.length;

            for(i=0;i<people_list;i++){
                var res = person_name[i].textContent.toUpperCase().trim();
                var result = res.match(str);
                console.log(result);
                if(result != null){
                    people[i].style.display = "flex";
                    count = count+1;
                }else{
                    people[i].style.display = "none";
                }
                if(count === 0){
                    document.getElementById("search-not-found").style.display = "flex";
                    document.getElementById("back-btn").style.display = "flex";
                    document.getElementById("count-msg").style.display = "none";
                    document.getElementById("show-more").style.display = "none";
                }else{
                    document.getElementById("search-not-found").style.display = "none";
                    document.getElementById("back-btn").style.display = "flex";
                }
                    document.getElementById("count").innerHTML = count;
                    document.getElementById("count-msg").style.display = "block";
            }
        }
</script>

<body>
<header class="community-header">
    <div th:replace="shared/dashboard :: dashboard">
    </div>
</header>

<div class="content">

    <div class="community-desc">
        <span class="community-title">COMMUNITY</span>
        <p class="community-text">Lorem ipsum dolor
            sit amet, consectetur adipiscing elit. Aenean feugiat felis id sem elementum, sit amet sollicitudin leo
            vestibulum.</p>
    </div>

    <div class="profile-container">
        <div class="left-content">
            <div class="empty-box"></div>
            <div class="people">
                <span class="red-notification-box"><br></span>
                <span class="my-profile-head">MY PROFILE</span>
                <p class="my-profile-txt">Based on your profile, you will be able to connect with the best matches who share your interests. Go ahead and setup your profile.</p>
            </div>
            <div class="people">
                <span class="red-notification-box"><br></span>
                <span class="my-profile-head">PEOPLE</span>
                <p class="my-profile-txt">Meet the community members and make new friends.</p>
            </div>
            <div class="my-profile" onclick="openGroupsPage()">
                <span class="red-notification-box"><br></span>
                <span class="my-profile-head">GROUPS</span>
                <p class="my-profile-txt">Join the groups and catch all the action. You will get suggestions based on your profile.</p>
            </div>
        </div>

        <div class="photo-upload" id="upload-success">
            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 38c@16x.png}" height="45" width="45" onclick="closeFrame()"><br><br>
            <p class="success">SUCCESS</p>
            <p class="success-txt">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mattis, tortor sit amet tempor vehicula, tortor ipsum faucibus nunc, id aliquam lacus odio nec magna.</p>
            <input type="button" class="submit-btn" value="DONE" onclick="closeFrame()">
        </div>
        <div class="photo-upload" id="delete">
            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 38c@16x.png}" height="45" width="45" onclick="closeFrame()"><br><br>
            <p class="delete-group-txt1">DELETE GROUP?</p>
            <p class="delete-group-txt2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mattis, tortor sit amet tempor vehicula, tortor ipsum faucibus nunc, id aliquam lacus odio nec magna.</p>
            <div class="delete-flex">
                <input type="button" class="submit-btn delete-btn" value="DELETE" onclick="">
                <input type="button" class="submit-btn delete-no" value="NO" onclick="">
            </div>
        </div>

        <div class="right-content">

            <div class="my-profile-options" id="community-groups">
                <div class="my-groups-flex1">
                    <div class="my-groups-flex2">
                        <div>
                            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 47@16x.png}" width="35" height="35" alt="icon" class="round-img" onclick="viewDropdown(this)" id="drop-down-btn-my-groups">
                            <div class="my-groups-drop-down" id="drop-down-my-groups">
                                <a class="interest-group-links">INTEREST GROUPS</a>
                                <a class="community-group-links">COMMUNITY GROUPS</a>
                                <a class="my-group-links">MY GROUPS</a>
                            </div>
                        </div>
                        <span class="community-head">MY GROUPS</span>
                    </div>
                    <div class="my-group-view-drop-down-btn" id="drop-down-btn">
                        <div class="my-group-view-drop-down">
                            <div id="filter-clear-link">
                                <p class="fav-head">Showing your favourites.</p>
                                <p class="fav-clear-link" onclick="clearFilter()">Clear Filter</p>
                            </div>
                            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 6@16x.png}" width="40" height="40" alt="drop-down" onclick="viewDropdown1()">
                            <div class="fav-drop-down" id="drop-down-menu">
                                <a class="fav-clear-link" onclick="clearFilter()">CLEAR</a>
                                <a class="fav-link" onclick="filterFav()">Favourites</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="group-content" id="group-content">
                    <div class="groups-list1" id="groups-list">
                        <div class="group-view1" id="group-view">
                            <div class="group-info-flex1">
                                <div class="group-info-width">
                                    <p class="group-info-head">Apache Riders</p>
                                    <p class="group-info-date">2nd July 2019 06:21 PM (4 Days ago)</p>
                                    <p class="group-info-sub">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec dignissim felis et magna mattis finibus. Nulla elit ligula, placerat tincidunt ipsum eu, ornare semper felis. Duis arcu massa, venenatis eget ante sodales, posuere volutpat risus</p>
                                </div>
                                <input type="button" class="submit-btn delete-btn-my-groups" value="DELETE" onclick="exitGroup()">
                            </div>
                            <div class="my-group-view-flex1">
                                <div class="my-group-view-flex2">
                                    <div class="conversation-link-box" onclick="openConversation()">
                                        <p class="conversation-txt">CONVERSATION <div class="hide-content" id="conversation-notification"><span id="conversation-notification-count">23</span></div></p>
                                    </div>

                                    <div class="request request-box" onclick="viewRequestList();">
<!--                                        <span style="display: none; background-color:#E65959; padding: 1.6px; padding-left:30px; font-size:1px; line-height:20px;"><br></span>-->
                                        <span class="request-txt">REQUESTS</span>
                                        <p class="request-txt2">You have requests to join the group from people whom you have not invited.</p>
                                    </div>
                                </div>
                                </div>

                                <div class="group-view-flex2">
                                    <p class="group-view-members-count">0 Members</p>
                                    <span class="group-view-line"></span>
                                </div>

                                <div class="my-group-no-members" id="no-members">
                                    <p>EMPTY! You have not invited any members yet.</p>
                                </div>

                                <div class="my-group-view-invite-members">
                                    <p class="invite-members-txt">Invite member(s) to your group.</p>
                                    <p class="invite-members-txt2">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                    <input type="button" class="submit-btn invite-btn" value="INVITE" onclick="invitePeople()">
                                </div>


                    <div class="just-flex" id="back-btn">
                        <img th:src="@{/images/extra-large-256px/Artboard 1 copy 9@16x.png}" height="15" width="15" onclick="backToGroupView()"/>
                        <p onclick="backToGroupView()">BACK</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
</body>
<script th:href="@{/js/community-profile.js}" type="text/javascript"></script>
</html>