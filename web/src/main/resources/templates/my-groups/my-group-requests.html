<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Group-View</title>
    <link th:href="@{https://fonts.googleapis.com/css?family=Roboto&display=swap}" rel="stylesheet">
    <link th:href="@{/css/community.css}" rel="stylesheet">
</head>
<script>
    function createGroup(){
        document.getElementById("groups-list").style.display = "block";
        document.getElementById("no-groups").style.display = "none";
        document.getElementById("create-group-btn").style.display = "none";
    }
    function viewDropdown(img){
        if(document.getElementById("drop-down-1").style.display === "none"){
        document.getElementById("drop-down-1").style.display = "block";
        img.src = "http://localhost:8000/images/extra-large-256px/Artboard 1 copy 53@16x.png";
        document.getElementById("drop-down-btn1").style.borderRadius = "0%";
        }else{
            document.getElementById("drop-down-1").style.display = "none";
            img.src = "http://localhost:8000/images/extra-large-256px/Artboard%201%20copy%2047@16x.png";
            document.getElementById("drop-down-btn1").style.borderRadius = "50%";
        }
    }
    function viewDropdown1(){
        if(document.getElementById("drop-down-menu").style.display === "none"){
            document.getElementById("drop-down-menu").style.display = "block";
        }else{
            document.getElementById("drop-down-menu").style.display = "none";
        }
    }
    function groupCreated(){
        document.getElementById("groups-list").style.display = "none";
        document.getElementById("no-groups").style.display = "block";
        document.getElementById("invite-part").style.display = "block";
        document.getElementById("create-group-btn").style.display = "none";
        document.getElementById("upload-success").style.display = "none";
    }
    function acceptRequest(position){
        var requestlist = document.getElementsByClassName("request-status");
        var requestlisttxt = document.getElementsByClassName("request-status-txt");
        requestlist = [].slice.call(requestlist);
        var n = requestlist.indexOf(position);
        requestlist[n].src = "/images/extra-large-256px/Artboard 1 copy 46@16x.png";
        requestlist[n].height = "15";
        requestlist[n].width = "15";
        requestlisttxt[n].innerHTML = "ACCEPTED";
    }
    function invitePeople(){
            location.assign("/my-groups/invite-people");
       }
    function createGroupDone(){
<!--            document.getElementById("upload-failed").style.display = "none";-->
<!--            document.getElementById("photo-upload").style.display = "none";-->
<!--            document.getElementById("origin-frame").style.display = "none";-->
                document.getElementById("upload-success").style.display = "block";
        }

        function exitGroup(){
                document.getElementById("delete").style.display = "block";
        }

     function closeFrame(){
<!--            document.getElementById("photo-upload").style.display = "none";-->
<!--            document.getElementById("origin-frame").style.display = "none";-->
<!--            document.getElementById("upload-failed").style.display = "none";-->
                document.getElementById("upload-success").style.display = "none";
                document.getElementById("delete").style.display = "none";
        }

       function filterFav(){
            var all = document.getElementsByClassName("group-members");
            var fav = document.getElementsByClassName("favourites");
            document.getElementById("filter-clear-link").style.display = "inline-block";
            document.getElementById("drop-down-menu").style.display = "none";
            document.getElementById("count-msg").style.display = "none";
            var i, j;
            for(i=0; i<all.length; i++){
                all[i].style.display = "none";
            }
            for(j=0; j<fav.length; j++){
                fav[j].style.display = "flex";
            }
       }
       function clearFilter(){
            var all = document.getElementsByClassName("group-members");
            document.getElementById("drop-down-menu").style.display = "none";
            document.getElementById("filter-clear-link").style.display = "none";
            var i, j;
            for(i=0; i<all.length; i++){
                all[i].style.display = "flex";
            }
       }
        function viewJoined(){
                console.log("entered");
            if(document.getElementById("joined-members").style.display === "none"){
                 document.getElementById("joined-members").style.display = "block";
                 document.getElementById("view-joined-btn").src="/images/extra-large-256px/Artboard 1 copy 2@16x.png";
            }else{
                document.getElementById("joined-members").style.display = "none";
                document.getElementById("view-joined-btn").src="/images/extra-large-256px/Artboard 1 copy@16x.png";
            }
        }
         function viewPending(){
                console.log("entered");
            if(document.getElementById("pending-members").style.display === "none"){
                 document.getElementById("pending-members").style.display = "block";
                 document.getElementById("view-pending-btn").src="/images/extra-large-256px/Artboard 1 copy 2@16x.png";
            }else{
                document.getElementById("pending-members").style.display = "none";
                document.getElementById("view-pending-btn").src="/images/extra-large-256px/Artboard 1 copy@16x.png";
            }
        }

        function openConversation(){
            location.replace("/my-groups/my-group-conversation");
        }

         function joinConversation(){
            location.replace("/community/community-groups/community-group-conversation");
        }
         function backToGroupView(){
            location.replace("/my-groups/my-group-view");
        }
        function viewConversation(){
            var x = document.getElementById("snackbar-group");
            x.className = "show";
            setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
        }
        function requestAwaiting(){
            location.replace("/community/community-groups/community-awaiting-group");
        }
        function openGroup(){
            location.replace("/community/community-groups/community-open-group");
        }
        function searchPeople(){
            var str = document.getElementById("search-people").value.toUpperCase().trim();
            var person_name = document.getElementsByClassName("uname");
            var people = document.getElementsByClassName("group-members");
            var i;
            var count = 0;
            var people_list = person_name.length;

            for(i=0;i<people_list;i++){
                var res = person_name[i].textContent.toUpperCase().trim();
                var result = res.match(str);
                console.log(result);
                if(result != null){
                    people[i].style.display = "flex";
                    count = count+1;
                }else{
                    people[i].style.display = "none";
                }
                if(count === 0){
                    document.getElementById("search-not-found").style.display = "flex";
                    document.getElementById("back-btn").style.display = "flex";
                    document.getElementById("count-msg").style.display = "none";
                    document.getElementById("show-more").style.display = "none";
                }else{
                    document.getElementById("search-not-found").style.display = "none";
                    document.getElementById("back-btn").style.display = "flex";
                }
                    document.getElementById("count").innerHTML = count;
                    document.getElementById("count-msg").style.display = "block";
            }
        }
</script>

<body>
<header class="community-header">
    <div th:replace="shared/dashboard :: dashboard">
    </div>
</header>

<div class="content">

    <div class="community-desc">
        <span class="community-title">COMMUNITY</span>
        <p class="community-text">Lorem ipsum dolor
            sit amet, consectetur adipiscing elit. Aenean feugiat felis id sem elementum, sit amet sollicitudin leo
            vestibulum.</p>
    </div>

    <div class="profile-container">
        <div class="left-content">
            <div class="empty-box"></div>
            <div class="people">
                <span class="red-notification-box"><br></span>
                <span class="my-profile-head">MY PROFILE</span>
                <p class="my-profile-txt">Based on your profile, you will be able to connect with the best matches who share your interests. Go ahead and setup your profile.</p>
            </div>
            <div class="people">
                <span class="red-notification-box"><br></span>
                <span class="my-profile-head">PEOPLE</span>
                <p class="my-profile-txt">Meet the community members and make new friends.</p>
            </div>
            <div class="my-profile" onclick="openGroupsPage()">
                <span class="red-notification-box"><br></span>
                <span class="my-profile-head">GROUPS</span>
                <p class="my-profile-txt">Join the groups and catch all the action. You will get suggestions based on your profile.</p>
            </div>
        </div>

        <div class="photo-upload" id="upload-success">
            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 38c@16x.png}" height="45" width="45" onclick="closeFrame()"><br><br>
            <p class="success">SUCCESS</p>
            <p class="success-txt">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mattis, tortor sit amet tempor vehicula, tortor ipsum faucibus nunc, id aliquam lacus odio nec magna.</p>
            <input type="button" class="submit-btn" value="DONE" onclick="closeFrame()">
        </div>

        <div class="photo-upload" id="delete">
            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 38c@16x.png}" height="45" width="45" onclick="closeFrame()"><br><br>
            <p class="delete-group-txt1">DELETE GROUP?</p>
            <p class="delete-group-txt2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mattis, tortor sit amet tempor vehicula, tortor ipsum faucibus nunc, id aliquam lacus odio nec magna.</p>
            <div class="delete-flex">
                <input type="button" class="submit-btn delete-btn" value="DELETE" onclick="">
                <input type="button" class="submit-btn delete-no" value="NO" onclick="">
            </div>
        </div>

        <div class="right-content">

            <div class="my-profile-options" id="community-groups">
                <div class="my-groups-flex1">
                    <div class="my-groups-flex2">
                        <div>
                            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 47@16x.png}" width="35" height="35" alt="icon" class="round-img" onclick="viewDropdown(this)" id="drop-down-btn1">
                            <div class="my-groups-drop-down" id="drop-down-my-groups">
                                <a class="interest-group-links">INTEREST GROUPS</a>
                                <a class="community-group-links">COMMUNITY GROUPS</a>
                                <a class="my-group-links">MY GROUPS</a>
                            </div>
                        </div>
                        <span class="community-head">MY GROUPS</span>
                    </div>
                </div>

                <div class="group-content" id="group-content">
                    <div class="groups-list1" id="groups-list">
                        <div class="group-view1" id="group-view">
                            <div class="group-info-flex1">
                                <div class="group-info-width">
                                    <p class="group-info-head">REQUEST(s)</p>
                                    <p class="group-info-sub">These people have sent request to join the group. You have not sent an invitation to them. You can either accept or ignore.</p>
                                </div>
                            </div>

                            <div class="request-list">
                                <div class="request-details">
                                    <img th:src="@{/images/profile-pic.jpg}" height="30" width="30" alt="admin-pic" class="round-img">
                                    <div class="requester-details">
                                        <p class="requester-name">Nora Bravos</p>
                                        <p class="request-date-unread">Today 11:48 AM (2 Hours ago)</p>
                                        <div class="request-stat">
                                            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 33@16x1.png}" width="30" height="30" alt="icon" onclick="acceptRequest(this);" class="request-status round-img">
                                            <span onclick="acceptRequest(this);" class="request-status-txt">ACCEPT</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="request-details">
                                    <img th:src="@{/images/profile-pic.jpg}" height="30" width="30" alt="admin-pic" class="round-img">
                                    <div class="requester-details">
                                        <p class="requester-name">Luke Ray</p>
                                        <p class="request-date-read">29 Jun 2019 10:05 AM (1 Day ago)</p>
                                        <div class="request-stat">
                                            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 33@16x1.png}" width="30" height="30" alt="icon" onclick="acceptRequest(this);" class="request-status round-img">
                                            <span onclick="acceptRequest(this);" class="request-status-txt">ACCEPT</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="request-details">
                                    <img th:src="@{/images/profile-pic.jpg}" height="30" width="30" alt="admin-pic" class="round-img">
                                    <div class="requester-details">
                                        <p class="requester-name">Daisy Lake</p>
                                        <p class="request-date-read">30 Jun 2019 06:32 PM (2 Days ago)</p>
                                        <div class="request-stat">
                                            <img th:src="@{/images/extra-large-256px/Artboard 1 copy 33@16x1.png}" width="30" height="30" alt="icon" onclick="acceptRequest(this);" class="request-status round-img">
                                            <span onclick="acceptRequest(this);" class="request-status-txt">ACCEPT</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="back-btn1">
                        <img th:src="@{/images/extra-large-256px/Artboard 1 copy 9@16x.png}" height="15" width="15" onclick="backToGroupView()"/>
                        <p onclick="backToGroupView()">BACK</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</body>
<script th:href="@{/js/community-profile.js}" type="text/javascript"></script>
</html>